apiVersion: v1
kind: Template
metadata:
  name: cluster-create-template

parameters:
- name: CLUSTER_NAME
  displayName: Cluster Name
  description: The name to give to the Cluster created. If using real AWS, then this name should include your username so that resources created in AWS can be identified as yours.
  required: true
- name: CLUSTER_NAMESPACE
  displayName: Cluster Namespace
  description: The namespace where the cluster should be created.
  value: openshift-cluster-operator
  required: true
- name: CLUSTER_VERSION
  displayName: Cluster Version
  description: Cluster version to install.
- name: CLUSTER_VERSION_NAMESPACE
  displayName: Cluster Version Namespace
  description: The namespace where the cluster version lives.
  value: openshift-cluster-operator
  required: true

objects:
- apiVersion: clusteroperator.openshift.io/v1alpha1
  kind: Cluster
  metadata:
    name: ${CLUSTER_NAME}
    namespace: ${CLUSTER_NAMESPACE}
  spec:
    clusterVersionRef:
      namespace: ${CLUSTER_VERSION_NAMESPACE}
      name: ${CLUSTER_VERSION}
    hardware:
      aws:
        accountSecret:
          name: aws-credentials
        sshSecret:
          name: ssh-private-key
        sshUser: centos
        sslSecret:
          name: ssl-cert
        region: "us-east-1"
        keyPairName: "libra"
    defaultHardwareSpec:
      aws:
        instanceType: "t2.xlarge"
    machineSets:
    - shortName: master
      nodeType: Master
      size: 1
    - shortName: infra
      nodeType: Compute
      infra: true
      size: 1
    - shortName: compute
      nodeType: Compute
      size: 1
